!function(){if(void 0!==window.navigate)return;const n={37:"left",38:"up",39:"right",40:"down"},t=9;let e=null,i=null,o=!1,r=!1;function u(){window.navigate=c,window.Element.prototype.t=f,window.Element.prototype.i=b,window.Element.prototype.o=h,window.CSS&&CSS.registerProperty&&""===window.getComputedStyle(document.documentElement).getPropertyValue("--spatial-navigation-contain")&&CSS.registerProperty({name:"--spatial-navigation-contain",u:"auto | contain",s:!1,l:"auto"}),window.CSS&&CSS.registerProperty&&""===window.getComputedStyle(document.documentElement).getPropertyValue("--spatial-navigation-action")&&CSS.registerProperty({name:"--spatial-navigation-action",u:"auto | focus | scroll",s:!1,l:"auto"}),window.addEventListener("keydown",o=>{const r=parent&&parent.__spatialNavigation__.h||window.__spatialNavigation__.h,u=document.activeElement,a=n[o.keyCode];if(o.keyCode===t&&(i=null),!(!r||"NONE"===r||"SHIFTARROW"===r&&!o.shiftKey||"ARROW"===r&&o.shiftKey||o.defaultPrevented)){let t={left:!0,m:!0,right:!0,p:!0};"INPUT"!==u.nodeName&&"TEXTAREA"!==u.nodeName||(t=function(t){const e=document.activeElement,i=e.selectionStart,o=e.selectionEnd,r={left:!1,m:!1,right:!1,p:!1},u=n[t.keyCode];if(void 0===u)return r;(!["email","date","month","number","time","week"].includes(e.getAttribute("type"))||"up"!==u&&"down"!==u)&&(["password","text","search","tel","url",null].includes(e.getAttribute("type"))||"TEXTAREA"===e.nodeName)?i===o&&(0===i&&(r.left=!0,r.m=!0),o===e.value.length&&(r.right=!0,r.p=!0)):r[u]=!0;return r}(o)),t[a]&&(o.preventDefault(),e=new Map,c(a),e=null,i=null)}}),document.addEventListener("mouseup",n=>{i={x:n.clientX,y:n.clientY}}),document.body.addEventListener("navbeforefocus",n=>{r=n.defaultPrevented}),document.body.addEventListener("navnotarget",n=>{o=n.defaultPrevented})}function c(n){const t=function(){let n=document.activeElement;n&&(n!==document.body||document.querySelector(":focus"))||(n=document);return n}();let e=null,o=null;if(i&&(o=document.elementFromPoint(i.x,i.y).o()),(e=o&&t.contains(o)?o:t)!==document&&e!==document.documentElement||(e=document.body||document.documentElement),(k(e)||"BODY"===e.nodeName)&&"INPUT"!==e.nodeName)if("IFRAME"===e.nodeName&&(e=e.contentDocument.body),"scroll"===g(e)){if(s(e,n))return}else if("focus"===g(e)){if(a(e.t(n,e.i({mode:"all"})),n))return}else if("auto"===g(e)){if(a(e.t(n),n))return;if(s(e,n))return}let r=e.o();if("focus"===g(e))M(e,r,"all",n);else if("auto"===g(r)&&(M(e,r,"visible",n),s(r,n)))return}function a(n,t){if(n){if(N(n.o())&&!function(n){const t=B(n),e=B(n.o());return!(t.left<e.left||t.right>e.right||t.top<e.top||t.bottom>e.bottom)}(n)&&n.scrollIntoView(),m("beforefocus",n,null,t),!r)return n.focus(),!0}return!1}function s(n,t){return T(n,t)&&!O(n,t)?(v(n,t),!0):!n.parentElement&&!A(n,t)&&(v(document.documentElement,t),!0)}function l(n,t,e,i){let o=n;return i=i||o.o(),!e||e.length<=0?!k(o)&&"BODY"!==o.nodeName||"INPUT"===o.nodeName?e=w(o,i.i(),t,i):("IFRAME"===o.nodeName&&(o=o.contentDocument.body),e=o.i()):e=w(o,e,t,i),e}function f(n,t,e){const o=this;if((t=l(o,n,t,e))&&t.length>0){if((k(o)||"BODY"===o.nodeName)&&"INPUT"!==o.nodeName){const e=o.i();if(t.every(n=>e.includes(n)))return function(n,t,e){return d(n,t,e,i?C:U)}(o,t,n)}return function(n,t,e){return d(n,t,e,D)}(o,t,n)}return null}function w(n,t,e,i){const o=n.o();let r;return void 0===e?t:(r=o.parentElement&&i!==o&&!E(n)?B(o):B(n),t.filter(n=>i.contains(n)&&function(n,t,e){switch(e){case"left":return x(t,n);case"right":return x(n,t);case"up":return P(t,n);case"down":return P(n,t);default:return!1}}(B(n),r,e)))}function d(n,t,e,i){const o=B(n);let r=Number.POSITIVE_INFINITY,u=void 0;if(t)for(let n=0;n<t.length;n++){const c=i(o,B(t[n]),e);c<r&&(r=c,u=t[n])}return u}function h(){let n=this;for(;!k(n);){if(!n.parentElement){n=window.location!==window.parent.location?window.parent.document.documentElement:window.document.documentElement;break}n=n.parentElement}return n}function b(n={mode:"visible"}){const t=this.parentElement?this:document.body,e=Array.prototype.filter.call(t.getElementsByTagName("*"),R);return"all"===n.mode?e:e.filter(E)}function m(n,t,e,i){const o={g:e,dir:i};let r=null;switch(n){case"beforefocus":r=new CustomEvent("navbeforefocus",{bubbles:!0,cancelable:!0,detail:o});break;case"notarget":r=new CustomEvent("navnotarget",{bubbles:!0,cancelable:!0,detail:o})}null!==r&&t.dispatchEvent(r)}function p(n,t){return n.style.getPropertyValue(`--${t}`).trim()}function g(n){return""===p(n,"spatial-navigation-action")?"auto":p(n,"spatial-navigation-action")}function M(n,t,e,i){let r=t.parentElement?t.parentElement.o():null;for(r||window.location===window.parent.location||(r=window.parent.document.documentElement);r;){if(a(n.t(i,t.i({mode:e}),t),i))return;if("visible"===e&&s(t,i))return;if(m("notarget",t,n,i),o)break;t===document||t===document.documentElement?window.location!==window.parent.location&&(n=window.frameElement,t=window.parent.document.documentElement):(R(t)&&n!==t&&(n=t),t=r),r=t.parentElement?t.parentElement.o():null}r||!t||a(n.t(i,t.i(),t),i)}function v(n,t,e=0){if(n)switch(t){case"left":n.scrollLeft-=40+e;break;case"right":n.scrollLeft+=40+e;break;case"up":n.scrollTop-=40+e;break;case"down":n.scrollTop+=40+e}}function k(n){return!n.parentElement||"IFRAME"===n.nodeName||N(n)||function(n){return"contain"===p(n,"spatial-navigation-contain")}(n)}function N(n){const t=window.getComputedStyle(n,null),e=t.getPropertyValue("overflow-x"),i=t.getPropertyValue("overflow-y");return"visible"!==e&&"clip"!==e&&"visible"!==i&&"clip"!==i}function T(n,t){if(n&&"object"==typeof n){if(t&&"string"==typeof t){if(y(n,t)){const e=window.getComputedStyle(n,null),i=e.getPropertyValue("overflow-x"),o=e.getPropertyValue("overflow-y");switch(t){case"left":case"right":return"visible"!==i&&"clip"!==i;case"up":case"down":return"visible"!==o&&"clip"!==o}}return!1}return"HTML"===n.nodeName||"BODY"===n.nodeName||N(n)&&y(n)}}function y(n,t){if(n&&"object"==typeof n){if(!t||"string"!=typeof t)return n.scrollWidth>n.clientWidth||n.scrollHeight>n.clientHeight;switch(t){case"left":case"right":return n.scrollWidth>n.clientWidth;case"up":case"down":return n.scrollHeight>n.clientHeight}return!1}}function A(n,t){let e=!1;switch(t){case"left":e=0===window.scrollX;break;case"right":e=n.scrollWidth-n.scrollLeft-n.clientWidth==0;break;case"up":e=0===window.scrollY;break;case"down":e=n.scrollHeight-n.scrollTop-n.clientHeight==0}return e}function O(n,t){if(T(n,t)){const e=n.scrollTop,i=n.scrollLeft,o=n.scrollHeight-n.clientHeight,r=n.scrollWidth-n.clientWidth;switch(t){case"left":return 0===i;case"right":return Math.abs(i-r)<=1;case"up":return 0===e;case"down":return Math.abs(e-o)<=1}}return!1}function R(n){return!(n.tabIndex<0||function(n){return"A"===n.tagName&&null===n.getAttribute("href")&&null===n.getAttribute("tabIndex")}(n)||function(n){return!!["BUTTON","INPUT","SELECT","TEXTAREA","OPTGROUP","OPTION","FIELDSET"].includes(n.tagName)&&n.disabled}(n)||function(n){return n.M&&!n.ownerDocument.documentElement.M}(n)||!function(n){return!!I(n.parentElement)&&!(!I(n)||0===n.style.opacity||!("0px"!==n.style.width&&0!==n.style.width||"0px"!==n.style.height&&0!==n.style.height))}(n))&&(!!(!n.parentElement||T(n)&&y(n)||n.tabIndex>=0)||void 0)}function E(n){return!n.parentElement||I(n)&&function(n){let t=parseInt(n.offsetWidth)/10,e=parseInt(n.offsetHeight)/10;t=isNaN(t)?1:t,e=isNaN(e)?1:e;const i=B(n),o=document.elementFromPoint((i.left+i.right)/2,(i.top+i.bottom)/2);if(n===o||n.contains(o))return!0;const r=document.elementFromPoint(i.left+t,i.top+e);if(n===r||n.contains(r))return!0;const u=document.elementFromPoint(i.left+t,i.bottom-e);if(n===u||n.contains(u))return!0;const c=document.elementFromPoint(i.right-t,i.top+e);if(n===c||n.contains(c))return!0;const a=document.elementFromPoint(i.right-t,i.bottom-e);if(n===a||n.contains(a))return!0;return!1}(n)}function I(n){const t=window.getComputedStyle(n,null),e=t.getPropertyValue("visibility");return"none"!==t.getPropertyValue("display")&&!["hidden","collapse"].includes(e)}function x(n,t){return n.left>=t.right||n.left>=t.left&&n.right>t.right&&n.bottom>t.top&&n.top<t.bottom}function P(n,t){return n.top>=t.bottom||n.top>=t.top&&n.bottom>t.bottom&&n.left<t.right&&n.right>t.left}function S(n,t,e){switch(e){case"left":case"right":return n.bottom>t.top&&n.top<t.bottom;case"up":case"down":return n.right>t.left&&n.left<t.right;default:return!1}}function C(n,t,e){const o=F(e,i,t),r=Math.abs(o.v.x-o.k.x),u=Math.abs(o.v.y-o.k.y);return Math.sqrt(Math.pow(r,2)+Math.pow(u,2))}function U(n,t,e){const i={left:"right",right:"left",m:"bottom",p:"top"}[e];return Math.abs(n[i]-t[i])}function D(n,t,e){let i=0,o=0;const r=F(e,n,t),u=Math.abs(r.v.x-r.k.x),c=Math.abs(r.v.y-r.k.y),a=Math.sqrt(Math.pow(u,2)+Math.pow(c,2));let s,l;const f=function(n,t){const e={width:0,height:0,N:0},i=[Math.max(n.left,t.left),Math.max(n.top,t.top)],o=[Math.min(n.right,t.right),Math.min(n.bottom,t.bottom)];e.width=Math.abs(i[0]-o[0]),e.height=Math.abs(i[1]-o[1]),i[0]>=o[0]||i[1]>=o[1]||(e.N=Math.sqrt(e.width*e.height));return e}(n,t),w=f.N;switch(e){case"left":case"right":S(n,t,e)?o=Math.min(f.height/n.height,1):i=n.height/2,s=30*(c+i),l=5*o;break;case"up":case"down":S(n,t,e)?o=Math.min(f.width/n.width,1):i=n.width/2,s=2*(u+i),l=5*o;break;default:s=0,l=0}return a+s-l-w}function F(n="down",t,e){const o={v:{x:0,y:0},k:{x:0,y:0}};if(i){switch(o.k=t,n){case"left":o.v.x=e.right;break;case"up":o.v.y=e.bottom;break;case"right":o.v.x=e.left;break;case"down":o.v.y=e.top}switch(n){case"left":case"right":i.y<=e.top?o.v.y=e.top:i.y<e.bottom?o.v.y=i.y:o.v.y=e.bottom;break;case"up":case"down":i.x<=e.left?o.v.x=e.left:i.x<e.right?o.v.x=i.x:o.v.x=e.right}}else{switch(n){case"left":o.k.x=t.left,o.v.x=e.right<t.left?e.right:t.left;break;case"up":o.k.y=t.top,o.v.y=e.bottom<t.top?e.bottom:t.top;break;case"right":o.k.x=t.right,o.v.x=e.left>t.right?e.left:t.right;break;case"down":o.k.y=t.bottom,o.v.y=e.top>t.bottom?e.top:t.bottom}switch(n){case"left":case"right":P(t,e)?(o.k.y=t.top,o.v.y=e.bottom<t.top?e.bottom:t.top):P(e,t)?(o.k.y=t.bottom,o.v.y=e.top>t.bottom?e.top:t.bottom):(o.k.y=Math.max(t.top,e.top),o.v.y=o.k.y);break;case"up":case"down":x(t,e)?(o.k.x=t.left,o.v.x=e.right<t.left?e.right:t.left):x(e,t)?(o.k.x=t.right,o.v.x=e.left>t.right?e.left:t.right):(o.k.x=Math.max(t.left,e.left),o.v.x=o.k.x)}}return o}function B(n){let t=e&&e.get(n);if(!t){const i=n.getBoundingClientRect();t={top:Number(i.top.toFixed(2)),right:Number(i.right.toFixed(2)),bottom:Number(i.bottom.toFixed(2)),left:Number(i.left.toFixed(2)),width:Number(i.width.toFixed(2)),height:Number(i.height.toFixed(2))},e&&e.set(n,t)}return t}function W(n){const t=window.__spatialNavigation__&&window.__spatialNavigation__.h;window.__spatialNavigation__=!1===n?Y():Object.assign(Y(),function(){function n(n,t){return T(n,t)&&!O(n,t)||!n.parentElement&&!A(n,t)}function t(t,e,i,o){let r=e,u=null;if(r!==document&&r!==document.documentElement||(r=document.body||document.documentElement),(k(r)||"BODY"===r.nodeName)&&"INPUT"!==r.nodeName){"IFRAME"===r.nodeName&&(r=r.contentDocument.body);const e=r.i(o);if(Array.isArray(e)&&e.length>0)return t?l(r,i,e):r.t(i,e);if(n(r,i))return t?[]:r}let c=r.o(),a=c.parentElement?c.parentElement.o():null;for(a||window.location===window.parent.location||(a=window.parent.document.documentElement);a;){const e=w(r,c.i(o),i,c);if(Array.isArray(e)&&e.length>0){if(u=r.t(i,e,c))return t?e:u}else{if(n(c,i))return t?[]:r;if(c===document||c===document.documentElement){if(c=window.document.documentElement,window.location!==window.parent.location){if(r=window.frameElement,!(c=window.parent.document.documentElement).parentElement){a=null;break}a=c.parentElement.o()}}else{if(R(c)&&(r=c),!(c=a).parentElement){a=null;break}a=c.parentElement.o()}}}if(!a&&c){const n=w(r,c.i(o),i,c);if(Array.isArray(n)&&n.length>0&&(u=r.t(i,n,c)))return t?n:u}if(n(c,i))return u=r}return{T:k,A:t.bind(null,!0),O:t.bind(null,!1),R:(n,t,e)=>(k(n)||"BODY"===n.nodeName)&&"INPUT"!==n.nodeName&&n.i().includes(t)?U(B(n),B(t),e):D(B(n),B(t),e)}}()),window.__spatialNavigation__.h=t,Object.seal(window.__spatialNavigation__)}function Y(){return{I:W,get h(){return this.P?this.P:"ARROW"},set h(n){this.P=["SHIFTARROW","ARROW","NONE"].includes(n)?n:"ARROW"}}}window.addEventListener("load",()=>{u(),W(!1)})}();